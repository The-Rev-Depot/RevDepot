<!-- <app-searchbar></app-searchbar> -->
<mat-toolbar color="primary" class = "fixed-header">
   <button  mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon" (click) = "homeRoute()">
      <mat-icon >home</mat-icon>
   </button>
   <span class="example-spacer"></span>
   <mat-form-field>
      <input type=" text" matInput placeholder="Search">
   </mat-form-field>
   <span class="example-spacer"></span>
   <div *ngIf="loggedIn">
      <button  mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon"
         (click)="sidenav.toggle()">
         <mat-icon *ngIf="!opened">shopping_cart</mat-icon>
         <mat-icon *ngIf="opened">arrow_forward_ios</mat-icon>
      </button>
      <button  mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon"
         (click)="logout()">
      Logout
      </button>
   </div>
   <button *ngIf="!loggedIn" mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon"
   (click)="loginRoute()">
   Login
   </button>
</mat-toolbar>
<mat-sidenav-container class="sidnav-container" hasBackdrop="false" autosize>
   <mat-sidenav class="sidenav" mode="over" [(opened)]="opened" position='end' fixedTopGap="64" [autoFocus]="false" fixedInViewport>
   <div *ngIf = "cart">
      <div *ngFor="let item of cart.items">
         <mat-card>
            <mat-card-title>{{item.product.productName}}</mat-card-title>
            <form class="example-form">
               <mat-form-field class="example-full-width">
                  <mat-label>Quantity: {{item.quantity}}</mat-label>
                  <input matInput 
                     type="number" 
                     maxlength="3" 
                     min="1" 
                     max="100" 
                     required 
                     mdInput 
                     placeholder="Quantity {{item.quantity}}" 
                     onkeydown="return false"
                     >
               </mat-form-field>
            </form>
            <mat-card-subtitle>Price: {{ item.product.productPrice }}</mat-card-subtitle>
            <br>
            <img  width="105" height="85" src="{{ item.product.picUrl }}" />
            <br><br>
            <button mat-flat-button color="primary" (click)="removeItem()">Update Quantity</button>
            <br/>
         </mat-card>
      </div>
   </div>
   <h3 *ngIf="cartIsEmpty">Cart is currently empty.</h3>
   <mat-divider></mat-divider>
   <h4>Total: {{totalPrice}}</h4>
   <mat-divider></mat-divider>
   <button mat-flat-button color="primary" (click)="checkoutRoute()" (click)="sidenav.toggle()">Checkout</button>
   </mat-sidenav>
   <mat-sidenav-content>
      <router-outlet></router-outlet>
   </mat-sidenav-content>
</mat-sidenav-container>